\tikzset{
  pics/box/.style args={#1/#2/#3/#4/#5/#6/#7/#8}{
    code = {
      \coordinate[name prefix .., below left=#2 and -#3 of circuit.north west] (#1coord);
      \node[rounded corners, fill=black, opacity=0.2, minimum height=#4,minimum width=#5] at (coord) (theBox) {};
      \node[below right=#7 and #8 of theBox.north west, font=\scriptsize\itshape] (text) {#6};
    }
  },
  pics/opaquebox/.style args={#1/#2/#3/#4/#5/#6}{
    code = {
      \coordinate[name prefix .., below left=#2 and -#3 of circuit.north west] (#1coord);
      \node[rounded corners, font=\small\itshape, fill=black!20, opacity=1, minimum height=#4,minimum width=#5] at (coord) (theBox) {#6};
    }
  },
  pics/cut/.style args={#1/#2}{
    code = {
      \draw[name prefix .., dash pattern={on 7pt off 2pt on 1pt off 2pt}, line width=1pt, opacity=0.65] (#1) -- (#2);
    }
  },
  pics/ebit/.style args={#1/#2/#3}{
    code = {
      \node[name prefix .., below left=#2 and -#3 of circuit.north west, rectangle, fill=white, minimum height=10mm, minimum width=#3] (#1clear) {};
      \coordinate[below left=1.5mm and 0mm of clear.north east] (one);
      \coordinate[below=7.04mm of one] (two);
      \draw[name prefix ..] (#1one) edge[out=180,in=180,looseness=1.5] (#1two);
    }
  },
  pics/ebitLessClear/.style args={#1/#2/#3}{
    code = {
      \node[name prefix .., below left=#2 and -#3 of circuit.north west, rectangle, fill=white, minimum height=10mm, minimum width=5mm] (#1clear) {};
      \coordinate[below left=1.5mm and 0mm of clear.north east] (one);
      \coordinate[below=7.04mm of one] (two);
      \draw[name prefix ..] (#1one) edge[out=180,in=180,looseness=1.5] (#1two);
    }
  },
  pics/ebitLong/.style args={#1/#2/#3}{
    code = {
      \node[name prefix .., below left=#2 and -#3 of circuit.north west, rectangle, fill=white, minimum height=25mm, minimum width=#3] (#1clear) {};
      \coordinate[below left=1.5mm and 0mm of clear.north east] (one);
      \coordinate[below=21.12mm of one] (two);
      \draw[name prefix ..] (#1one) edge[out=180,in=180,looseness=1.5] (#1two);
    }
  },
}